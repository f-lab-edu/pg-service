# 🧪 테스트 케이스 (Test Cases)

### 1. 열차 시간표 조회
- **성공 케이스**
    - [성공] 출발역, 도착역, 출발일시를 올바르게 입력하면, 지정된 시간 이후에 출발하는 열차 목록을 정상적으로 조회한다.
    - [성공] 조건에 맞는 열차가 없으면 빈 목록을 반환한다.
- **실패 케이스**
    - [실패] 출발역과 도착역이 같으면 `INVALID_INPUT_VALUE` 에러를 반환한다.
    - [실패] 요청 값이 유효하지 않은 형식(예: 잘못된 날짜)일 경우 400 Bad Request 에러를 응답한다.

### 2. 좌석 배치도 조회
- **2-1. 호차 목록 조회**
    - **성공 케이스**
        - [성공] 유효한 열차 ID(`trainId`)로 요청 시, 해당 열차의 호차 목록을 정상적으로 조회한다.
    - **실패 케이스**
        - [실패] 존재하지 않는 열차 ID로 요청 시, `TRAIN_NOT_FOUND` 에러를 반환한다.
- **2-2. 특정 호차의 좌석 배치도 조회**
    - **성공 케이스**
        - [성공] 유효한 열차 ID와 호차 번호(`carNumber`)로 요청 시, 해당 호차의 좌석 배치도를 정상적으로 조회한다.
    - **실패 케이스**
        - [실패] 해당 열차에 존재하지 않는 호차 번호로 요청 시, `CAR_NOT_FOUND` 에러를 반환한다.

### 3. 좌석 예매 (임시 예약)
- **성공 케이스**
    - [성공] 로그인한 사용자가 유효한 좌석을 선택하면, 임시 예약이 생성되고 상태가 `PENDING_PAYMENT`가 된다.
- **실패 케이스**
    - [실패] 로그인하지 않은 사용자가 요청하면 `401 Unauthorized` 에러를 반환한다.
    - [실패] 이미 다른 사용자가 선점했거나 예약된 좌석을 선택하면 `SEAT_ALREADY_RESERVED` 에러를 반환한다.

### 4. 예매 확정
- **성공 케이스**
    - [성공] 로그인한 사용자가 유효한 임시 예약 ID(`reservationId`)로 확정을 요청하면, 예약 상태가 `RESERVED`로 변경된다.
- **실패 케이스**
    - [실패] 로그인하지 않은 사용자가 요청하면 `401 Unauthorized` 에러를 반환한다.
    - [실패] 존재하지 않거나 만료된 예약 ID로 요청하면 `RESERVATION_NOT_FOUND` 에러를 반환한다.

### 5. 예매 확인 및 취소
- **5-1. 예매 목록 조회**
    - **성공 케이스**
        - [성공] 로그인한 사용자가 자신의 모든 예매 내역(모든 상태 포함)을 성공적으로 조회한다.
    - **실패 케이스**
        - [실패] 로그인하지 않은 사용자가 요청하면 `401 Unauthorized` 에러를 반환한다.
- **5-2. 예매 취소**
    - **성공 케이스**
        - [성공] `RESERVED`(결제 완료) 상태의 예매를 취소하면, 환불 처리 후 `CANCELLED` 상태로 변경된다.
        - [성공] `PENDING_PAYMENT`(결제 대기) 상태의 예매를 취소하면, 즉시 `CANCELLED` 상태로 변경된다.
    - **실패 케이스**
        - [실패] 로그인하지 않은 사용자가 요청하면 `401 Unauthorized` 에러를 반환한다.
        - [실패] 열차 출발 시간이 지나 취소가 불가능한 예매를 취소 요청 시, `CANCELLATION_NOT_ALLOWED` 에러를 반환한다.